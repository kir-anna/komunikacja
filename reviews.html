<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/reset.css">
    <link rel="stylesheet" href="style/mail.css">
    <link rel="stylesheet" href="style/atomic.css">
    <link rel="stylesheet" href="style/reviews.css">
    <link rel="stylesheet" href="style/slider.css">
    <!-- fonts Oswald Merriweather -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather&family=Oswald:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,0" />
    <title>Reviews page</title>
</head>

<body>
    <header class="header">
        <li><a class="fz-oswald clr-black" href="index.html">WELCOME</a></li>
        <li><a class="fz-oswald clr-black" href="courses.html">COURSES</a></li>
        <li><a class="fz-oswald clr-black" href="test.html">TEST</a></li>
        <li class="bg-default"><a class="fz-oswald clr-white" href="reviews.html">REVIEWS</a></li>
    </header>
    </section>
    <main>
        <div class="main-wrapper d-flex">
            <img src="images/reviews-title.png" alt="reviews-title">
            <div class="main-preview bg-default d-flex fl-column">
                <span class="material-symbols-outlined" style="color: white;font-size: 60px;">star</span>
                <span class="material-symbols-outlined" style="color: white;font-size: 60px;">star</span>
                <span class="material-symbols-outlined" style="color: white;font-size: 60px;">star</span>
                <span class="material-symbols-outlined" style="color: white;font-size: 60px;">star</span>
                <span class="material-symbols-outlined" style="color: white;font-size: 60px;">star</span>
                <button class="button-clr-revert write-review">write a review</button>
            </div>
        </div>
    </main>
    <section>
        <div class="wrapper">
            <div class="reviews-card">
                <div class="d-flex al-center">
                    <h3 class="default-title tt-u fz-oswald" style="padding-right:25px ;">reviews of our graduates</h3>
                    <span class="clr-default fz-merriweather " style="font-size: 32px;">4.7</span>
                    <span class="material-symbols-outlined clr-default" style="font-size: 30px;">star</span>
                    <span class="material-symbols-outlined clr-default" style="font-size: 30px;">star</span>
                    <span class="material-symbols-outlined clr-default" style="font-size: 30px;">star</span>
                    <span class="material-symbols-outlined clr-default" style="font-size: 30px;">star</span>
                    <span class="material-symbols-outlined clr-default" style="font-size: 30px;">star</span>
                </div>
                <div class="wrapper-slider">
                    <div id="slider" class="slider">
                        <div class="slider-content">
                            <div class="slider-content-wrapper">
                                <div class="slider-content__item image-1">
                                    <div class="slider-item">
                                        <div class="slider-title d-flex al-center" style="padding-bottom: 25px;">
                                            <h3 class="tt-u z-oswald  clr-white"
                                                style="font-size:48px; padding-right: 25px;">
                                                uwe trankel</h3>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                        </div>
                                        <div class="slider-content d-flex">
                                            <img src="images/reviews-list-4.png" alt="reviews-list-1">
                                            <p class="fz-merriweather clr-white"
                                                style="font-size:32px;padding-left: 50px;">The
                                                best language center in Stuttgart. I am very grateful to the staff for
                                                their
                                                responsiveness and help with any issue. If you are still choosing a
                                                school to
                                                study German, then it should definitely be this school. </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="slider-content__item image-2">
                                    <div class="slider-item">
                                        <div class="slider-title d-flex al-center" style="padding-bottom: 25px;">
                                            <h3 class="tt-u z-oswald  clr-white"
                                                style="font-size:48px; padding-right: 25px;">
                                                niklas bulka</h3>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                        </div>
                                        <div class="slider-content d-flex">
                                            <img src="images/reviews-list-3.png" alt="reviews-list-1">
                                            <p class="fz-merriweather clr-white"
                                                style="font-size:32px;padding-left: 50px;">I’m
                                                so glad to had find and had improved my German level in this school.
                                                Teachers
                                                are so nice, they really want to help you in your progress. If I’ll come
                                                back to
                                                Stuttgart for sure I’ll continue in the same academy. </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="slider-content__item image-3">
                                    <div class="slider-item">
                                        <div class="slider-title d-flex al-center" style="padding-bottom: 25px;">
                                            <h3 class="tt-u z-oswald  clr-white"
                                                style="font-size:48px; padding-right: 25px;">
                                                svitlana frauland</h3>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                        </div>
                                        <div class="slider-content d-flex">
                                            <img src="images/reviews-list-2.png" alt="reviews-list-1">
                                            <p class="fz-merriweather clr-white"
                                                style="font-size:32px;padding-left: 50px;">Very
                                                good school. If there is any problem, they do what they can to help you.
                                                It's
                                                like a group of friends. Each teacher has his/her own way of teaching
                                                and some
                                                of them are wonderful.
                                                I really recommend this school. </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="slider-content__item image-4">
                                    <div class="slider-item">
                                        <div class="slider-title d-flex al-center" style="padding-bottom: 25px;">
                                            <h3 class="tt-u z-oswald  clr-white"
                                                style="font-size:48px; padding-right: 25px;">
                                                anna flur</h3>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                            <span class="material-symbols-outlined clr-white"
                                                style="font-size: 30px;">star</span>
                                        </div>
                                        <div class="slider-content d-flex">
                                            <img src="images/reviews-list-1.png" alt="reviews-list-1">
                                            <p class="fz-merriweather clr-white"
                                                style="font-size:32px;padding-left: 50px;">The
                                                school is top-notch! All is well organised in every single detail. The
                                                teachers
                                                are competent, kind and focused on your target. I subscripted for a
                                                general
                                                German course of a week and my level is improved despite the short time.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="wrapper">
            <div class="write-to-reviews">
                <h3 class="default-title tt-u fz-oswald" style="padding-right:25px; padding-bottom: 25px;">write reviews
                    - receive bonus</h3>
                <p class="fz-merriweather" style="font-size:32px ;">If you were our student and want to receive bonus
                    for the next semester of studying - you can write a review and receive it.</p>
                <button class="button-clr-default write-review " style="margin-top: 25px;">write a review</button>
            </div>
        </div>
    </section>
    <footer>
        <div class="wrapper">
            <div class="contact-us">
                <h3 class="title tt-u fz-oswald">Contact Us</h3>
                <div class="contact-us-list">
                    <ul>
                        <li class="pos-r fz-merriweather">Tel: +49 (0)711 1812-000</li>
                        <li class="pos-r fz-merriweather"><span>Feinstrasse 69 ,</span> <br>
                            <span>069016,</span> <br>
                            <span>Stuttgart</span>
                        </li>
                        <li class="pos-r fz-merriweather"><a href="#" class="clr-default">info@language-school.com</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <div id="modal" class="review-modal bg-default">
        <div class="wrapper">
            <h3 class="fz-oswald tt-u clr-white">Review</h3>
            <div class="content-wrapper">
                <button id="close" class="close"><span class="material-symbols-outlined clr-white"
                        style="font-size: 50px;">
                        close
                    </span></button>
                <div>
                    <label for="name" class="fz-merriweather  clr-white">Name</label>
                    <input type="text" name="name" id="name">
                </div>
                <div>
                    <label for="course" class="fz-merriweather  clr-white">Course</label>
                    <select name="course" id="course">
                        <option value="default"></option>
                        <option value="B1">B1</option>
                        <option value="B2">B2</option>
                        <option value="C1">C1</option>
                    </select>
                </div>
                <div>
                    <label for="email" class="fz-merriweather  clr-white">E-mail</label>
                    <input type="text" name="email" id="email">
                </div>
                <div>
                    <label for="Stars" class="fz-merriweather  clr-white">Stars</label>
                    <select name="Stars" id="Stars">
                        <option value="default"></option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
            </div>
            <h3 class="fz-merriweather  clr-white">Share your impressions</h3>
            <textarea name="" id="" cols="30" rows="10"></textarea>
            <div class="checkboxes">
                <div>
                    <input type="checkbox" name="" id="">
                    <span class="clr-white">I agree to receive bonus via E-Mail</span>
                </div>
                <div> <input type="checkbox" name="" id="">
                    <span class="clr-white">I agree with the processing of my personal information</span>
                </div>
            </div>
            <footer>
                <button id="send" class="button-clr-revert">Send</button>
            </footer>
        </div>
    </div>
    <div id="overlay" class="overlay"></div>
</body>
<script>

    const ReviewButtons = document.querySelectorAll('.write-review');
    const Modal = document.getElementById('modal');
    const Overlay = document.getElementById('overlay');
    const CloseButton = document.getElementById('close')
    const SendButton = document.getElementById('send');

    SendButton.addEventListener('click', function () {
        Modal.style.display = 'none';
        Overlay.style.display = 'none';
    })

    CloseButton.addEventListener('click', function () {
        Modal.style.display = 'none';
        Overlay.style.display = 'none';
    })

    ReviewButtons.forEach(button => {
        button.addEventListener('click', function () {
            console.log(Modal, Overlay);
            Modal.style.display = 'block';
            Overlay.style.display = 'block';
        })
    })


    const slider = (function () {

        //const
        const slider = document.getElementById("slider"); // основная обертка
        console.log(slider);
        const sliderContent = document.querySelector(".slider-content"); // обертка для контейнера слайдов и контролов
        console.log(sliderContent);
        const sliderWrapper = document.querySelector(".slider-content-wrapper"); // контейнер для слайдов
        const elements = document.querySelectorAll(".slider-content__item"); // обертка для слайда
        const sliderContentControls = createHTMLElement("div", "slider-content__controls"); // блок контролов внутри sliderContent
        let dotsWrapper = null; // Обертка dots
        let prevButton = null; // Кнопки
        let nextButton = null;
        let autoButton = null;
        let leftArrow = null; // Стрелки
        let rightArrow = null;
        let intervalId = null; //идентификатор setInterval

        // data
        const itemsInfo = {
            offset: 0, // смещение контейнера со слайдами относительно начальной точки (первый слайд)
            position: {
                current: 0, // номер текущего слайда
                min: 0, // первый слайд
                max: elements.length - 1 // последний слайд	
            },
            intervalSpeed: 2000, // Скорость смены слайдов в авторежиме

            update: function (value) {
                this.position.current = value;
                this.offset = -value;
            },
            reset: function () {
                this.position.current = 0;
                this.offset = 0;
            }
        };

        const controlsInfo = {
            buttonsEnabled: false,
            dotsEnabled: false,
            prevButtonDisabled: true,
            nextButtonDisabled: false
        };

        // Инициализация слайдера
        function init(props) {
            // let {buttonsEnabled, dotsEnabled} = controlsInfo;
            let { intervalSpeed, position, offset } = itemsInfo;

            // Проверка наличия элементов разметки
            if (slider && sliderContent && sliderWrapper && elements) {
                // Проверка входных параметров
                if (props && props.intervalSpeed) {
                    intervalSpeed = props.intervalSpeed;
                }
                if (props && props.currentItem) {
                    if (parseInt(props.currentItem) >= position.min && parseInt(props.currentItem) <= position.max) {
                        position.current = props.currentItem;
                        offset = - props.currentItem;
                    }
                }
                if (props && props.buttons) {
                    controlsInfo.buttonsEnabled = true;
                }
                if (props && props.dots) {
                    controlsInfo.dotsEnabled = true;
                }

                _updateControlsInfo();
                _createControls(controlsInfo.dotsEnabled, controlsInfo.buttonsEnabled);
                _render();
            } else {
                console.log("Разметка слайдера задана неверно. Проверьте наличие всех необходимых классов 'slider/slider-content/slider-wrapper/slider-content__item'");
            }
        }

        // Обновить свойства контролов
        function _updateControlsInfo() {
            const { current, min, max } = itemsInfo.position;
            controlsInfo.prevButtonDisabled = current > min ? false : true;
            controlsInfo.nextButtonDisabled = current < max ? false : true;
        }

        // Создание элементов разметки
        function _createControls(dots = false, buttons = false) {

            //Обертка для контролов
            sliderContent.append(sliderContentControls);

            // Контролы
            createArrows();
            dots ? createDots() : null;

            // Arrows function
            function createArrows() {
                const dValueLeftArrow = "M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z";
                const dValueRightArrow = "M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z";
                const leftArrowSVG = createSVG(dValueLeftArrow);
                const rightArrowSVG = createSVG(dValueRightArrow);

                leftArrow = createHTMLElement("div", "prev-arrow");
                leftArrow.append(leftArrowSVG);
                leftArrow.addEventListener("click", () => updateItemsInfo(itemsInfo.position.current - 1))

                rightArrow = createHTMLElement("div", "next-arrow");
                rightArrow.append(rightArrowSVG);
                rightArrow.addEventListener("click", () => updateItemsInfo(itemsInfo.position.current + 1))

                sliderContentControls.append(leftArrow, rightArrow);

                // SVG function
                function createSVG(dValue, color = "currentColor") {
                    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                    svg.setAttribute("viewBox", "0 0 256 512");
                    const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                    path.setAttribute("fill", color);
                    path.setAttribute("d", dValue);
                    svg.appendChild(path);
                    return svg;
                }
            }

            // Dots function
            function createDots() {
                dotsWrapper = createHTMLElement("div", "dots");
                for (let i = 0; i < itemsInfo.position.max + 1; i++) {
                    const dot = document.createElement("div");
                    dot.className = "dot";
                    dot.addEventListener("click", function () {
                        updateItemsInfo(i);
                    })
                    dotsWrapper.append(dot);
                }
                sliderContentControls.append(dotsWrapper);
            }

        }

        // Задать класс для контролов (buttons, arrows)
        function setClass(options) {
            if (options) {
                options.forEach(({ element, className, disabled }) => {
                    if (element) {
                        disabled ? element.classList.add(className) : element.classList.remove(className)
                    } else {
                        console.log("Error: function setClass(): element = ", element);
                    }
                })
            }
        }

        // Обновить значения слайдера
        function updateItemsInfo(value) {
            itemsInfo.update(value);
            _slideItem(true);
        }

        // Отобразить элементы
        function _render() {
            const { prevButtonDisabled, nextButtonDisabled } = controlsInfo;
            let controlsArray = [
                { element: leftArrow, className: "d-none", disabled: prevButtonDisabled },
                { element: rightArrow, className: "d-none", disabled: nextButtonDisabled }
            ];
            if (controlsInfo.buttonsEnabled) {
                controlsArray = [
                    ...controlsArray,
                    { element: prevButton, className: "disabled", disabled: prevButtonDisabled },
                    { element: nextButton, className: "disabled", disabled: nextButtonDisabled }
                ];
            }

            // Отображаем/скрываем контроллы
            setClass(controlsArray);

            // Передвигаем слайдер
            sliderWrapper.style.transform = `translateX(${itemsInfo.offset * 100}%)`;

            // Задаем активный элемент для точек (dot)
            if (controlsInfo.dotsEnabled) {
                if (document.querySelector(".dot--active")) {
                    document.querySelector(".dot--active").classList.remove("dot--active");
                }
                dotsWrapper.children[itemsInfo.position.current].classList.add("dot--active");
            }
        }

        // Переместить слайд
        function _slideItem(autoMode = false) {
            if (autoMode && intervalId) {
                clearInterval(intervalId);
            }
            _updateControlsInfo();
            _render();
        }

        // Создать HTML разметку для элемента
        function createHTMLElement(tagName = "div", className, innerHTML) {
            const element = document.createElement(tagName);
            className ? element.className = className : null;
            innerHTML ? element.innerHTML = innerHTML : null;
            return element;
        }

        // Доступные методы
        return { init };
    }())

    slider.init({
        // intervalSpeed: 2000,
        currentItem: 0,
        buttons: true,
        dots: true
    });


</script>

</html>